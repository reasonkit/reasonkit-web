# ReasonKit Web MCP Sidecar - Environment Configuration
# Copy to /etc/reasonkit/reasonkit-web.env and customize
#
# SECURITY WARNING: This file may contain secrets.
# Ensure proper permissions: chmod 600 /etc/reasonkit/reasonkit-web.env
# Owner should be root:reasonkit

# ============================================================
# LOGGING & DEBUGGING
# ============================================================

# Rust logging level (trace, debug, info, warn, error)
RUST_LOG=info

# Enable backtraces for debugging (0=off, 1=on, full=verbose)
RUST_BACKTRACE=1

# ============================================================
# SERVER CONFIGURATION
# ============================================================

# Bind address for MCP server
REASONKIT_WEB_HOST=127.0.0.1

# Port for MCP server (default: 3847)
REASONKIT_WEB_PORT=3847

# Maximum concurrent connections
REASONKIT_WEB_MAX_CONNECTIONS=100

# Request timeout in seconds
REASONKIT_WEB_TIMEOUT=30

# ============================================================
# MCP PROTOCOL SETTINGS
# ============================================================

# MCP transport mode: stdio, http, websocket
REASONKIT_MCP_TRANSPORT=stdio

# Enable MCP protocol logging
REASONKIT_MCP_LOG_PROTOCOL=false

# MCP message queue size
REASONKIT_MCP_QUEUE_SIZE=1000

# ============================================================
# BROWSER CAPTURE SETTINGS
# ============================================================

# Enable browser capture functionality
REASONKIT_BROWSER_CAPTURE_ENABLED=true

# Chrome/Chromium executable path (auto-detect if empty)
# REASONKIT_CHROME_PATH=/usr/bin/chromium

# Browser capture timeout in seconds
REASONKIT_BROWSER_TIMEOUT=30

# Maximum concurrent browser instances
REASONKIT_BROWSER_MAX_INSTANCES=5

# Browser headless mode
REASONKIT_BROWSER_HEADLESS=true

# ============================================================
# STORAGE & CACHE
# ============================================================

# Data directory for persistent storage
REASONKIT_DATA_DIR=/var/lib/reasonkit

# Cache directory
REASONKIT_CACHE_DIR=/var/lib/reasonkit/cache

# Log directory
REASONKIT_LOG_DIR=/var/log/reasonkit

# Maximum cache size in MB
REASONKIT_CACHE_MAX_SIZE=256

# Cache TTL in seconds
REASONKIT_CACHE_TTL=3600

# ============================================================
# SECURITY
# ============================================================

# Enable TLS (requires cert and key)
REASONKIT_TLS_ENABLED=false

# TLS certificate path
# REASONKIT_TLS_CERT=/etc/reasonkit/tls/cert.pem

# TLS private key path
# REASONKIT_TLS_KEY=/etc/reasonkit/tls/key.pem

# Allowed origins for CORS (comma-separated)
REASONKIT_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# API key for authentication (generate with: openssl rand -hex 32)
# REASONKIT_API_KEY=

# ============================================================
# INTEGRATION
# ============================================================

# ReasonKit Core connection (if using external core)
# REASONKIT_CORE_URL=http://127.0.0.1:3846

# Enable metrics endpoint
REASONKIT_METRICS_ENABLED=true

# Metrics bind address
REASONKIT_METRICS_HOST=127.0.0.1

# Metrics port
REASONKIT_METRICS_PORT=9090

# ============================================================
# WATCHDOG
# ============================================================

# Enable systemd watchdog notifications
REASONKIT_WATCHDOG_ENABLED=true

# Watchdog notification interval in seconds (should be < WatchdogSec/2)
REASONKIT_WATCHDOG_INTERVAL=10

# ============================================================
# ADVANCED
# ============================================================

# Worker thread count (0 = auto-detect based on CPU cores)
REASONKIT_WORKERS=0

# Enable memory profiling (development only)
REASONKIT_MEMORY_PROFILING=false

# Sentry DSN for error reporting (optional)
# SENTRY_DSN=
